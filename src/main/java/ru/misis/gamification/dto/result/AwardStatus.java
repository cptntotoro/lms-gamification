package ru.misis.gamification.dto.result;

import ru.misis.gamification.model.admin.EventType;

/**
 * Перечисление возможных статусов результата операции начисления очков
 * <p>
 * Используется в классе {@link AwardResult} для указания исхода попытки начисления очков
 * за событие из LMS.
 * </p>
 * <p>
 * Основные сценарии использования:
 * <ul>
 *     <li>{@link #SUCCESS} — очки успешно начислены, пользователь получил прогресс</li>
 *     <li>{@link #DUPLICATE} — событие с указанным eventId уже было обработано ранее
 *         (защита от повторного начисления)</li>
 *     <li>{@link #REJECTED} — начисление отклонено по бизнес-правилу
 *         (превышен дневной лимит, тип события отключён и т.д.)</li>
 * </ul>
 * </p>
 * <p>
 * Все значения этого перечисления являются иммутабельными и потокобезопасными.
 * </p>
 *
 * @see AwardResult
 */
public enum AwardStatus {

    /**
     * Операция начисления очков успешно завершена
     */
    SUCCESS,

    /**
     * Событие уже было обработано ранее (дубликат).
     * <p>
     * Возникает при повторной отправке события с тем же {@code eventId}.
     * В этом случае никакие изменения в базе не производятся, очки не начисляются
     * </p>
     */
    DUPLICATE,

    /**
     * Начисление очков отклонено по бизнес-правилу.
     * <p>
     * Причины могут включать:
     * <ul>
     *  <li>превышен дневной лимит по типу события ({@code maxDailyPoints})</li>
     *  <li>тип события отключён ({@code active = false})</li>
     *  <li>другие ограничения, заданные в {@link EventType}</li>
     * </ul>
     * </p>
     */
    REJECTED
}
